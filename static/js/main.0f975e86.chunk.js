(this["webpackJsonppokemon-db"]=this["webpackJsonppokemon-db"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(16),i=n.n(a),s=n(4),o=n(7),l=n(9),u=n(8),j=(n(35),n(36),n(37),n(3)),d=n(19),h=n(15),b=n(11),p=n(29),m=r.a.createContext(),O=m.Provider,f=m.Consumer,x=n(1),v=function(e){return function(t){return function(n){return Object(x.jsx)(f,{children:function(c){var r=e(c);return Object(x.jsx)(t,Object(b.a)(Object(b.a)({},n),r))}})}}},g=/\/([0-9]*)\/$/,k="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon",y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).handleChange=function(e){var t=c.props.onItemSelected;c.setState({selectedOption:e}),t(e.id)},c.state={options:[],selectedOption:null},c.handleChange.bind(Object(h.a)(c)),c}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.getData,n=[];t().then((function(e){return e})).then((function(t){t.map((function(e){var t=e.url.match(g)[1],c={value:e.name,label:e.name,id:t};n.push(c)})),e.setState({options:n})}))}},{key:"componentWillUnmount",value:function(){this.setState({selectedOption:null})}},{key:"render",value:function(){var e=this.state,t=e.selectedOption,n=e.options;return Object(x.jsx)("div",{children:Object(x.jsx)(p.a,{classNamePrefix:"pokemon-list",placeholder:"Choose pokemon",value:t,onChange:this.handleChange,options:n})})}}]),n}(c.Component),N=v((function(e){return{getData:e.getAllPokemons}}))((function(e){return Object(x.jsx)(y,Object(b.a)({},e))})),w=function(){var e=Object(j.f)();return Object(x.jsx)("div",{className:"header",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h3",{className:"logo",children:Object(x.jsx)(d.b,{to:"/",children:"Pokemon App"})}),Object(x.jsx)("div",{className:"pokemon-list",children:Object(x.jsx)(N,{onItemSelected:function(t){return e.push(t)}})})]})})},C=(n(54),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).state={currentPage:1,cardsPerPage:20},c.handleClick=c.handleClick.bind(Object(h.a)(c)),c}return Object(o.a)(n,[{key:"handleClick",value:function(e){this.setState({currentPage:Number(e.target.id)})}},{key:"render",value:function(){for(var e=this,t=this.state,n=t.currentPage,c=t.cardsPerPage,a=this.props,i=a.data,s=a.onItemSelected,o=n*c,l=o-c,u=[],j=i.slice(l,o).map((function(e){var t=e.url.match(g)[1];return Object(x.jsxs)("li",{className:"list-group-item card",onClick:function(){return s(t)},children:[Object(x.jsx)("img",{src:"".concat(k,"/").concat(t,".png")}),Object(x.jsx)("span",{children:e.name})]},t)})),d=1;d<=Math.ceil(i.length/c);d++)u.push(d);var h=u.map((function(t){return Object(x.jsx)("li",{className:"page-link",id:t,onClick:e.handleClick,children:t},t)}));return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)("ul",{className:"list-group item-list grid",children:j}),Object(x.jsx)("ul",{className:"pagination",children:h})]})}}]),n}(c.Component));C.defaultProps={onItemSelected:function(){}};n(55);var P=function(){return Object(x.jsx)("div",{className:"loadingio-spinner-eclipse-gzsbpq8et6o",children:Object(x.jsx)("div",{className:"ldio-vc76htzamw",children:Object(x.jsx)("div",{})})})},S=(n(56),n.p+"static/media/error_icon.96ed97d8.png"),I=function(){return Object(x.jsxs)("div",{className:"error-indicator",children:[Object(x.jsx)("img",{src:S,alt:"error icon"}),Object(x.jsx)("span",{className:"boom",children:"BOOM!"}),Object(x.jsx)("span",{children:"Something has gone wrong"})]})},D=function(e){return function(t){Object(l.a)(c,t);var n=Object(u.a)(c);function c(){var e;Object(s.a)(this,c);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={data:null,loading:!0,error:!1},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.update()}},{key:"update",value:function(){var e=this;this.setState({loading:!0,error:!1}),this.props.getData().then((function(t){var n=t;e.setState({data:n,loading:!1})})).catch((function(){e.setState({error:!0,loading:!1})}))}},{key:"render",value:function(){var t=this.state,n=t.data,c=t.loading,r=t.error;return c?Object(x.jsx)(P,{}):r?Object(x.jsx)(I,{}):Object(x.jsx)(e,Object(b.a)(Object(b.a)({},this.props),{},{data:n}))}}]),c}(c.Component)},E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(v((function(e){return{getData:e.getAllPokemons,getPokemon:e.getPokemon}})),D)(C),A=function(e){var t=e.history;return Object(x.jsx)("div",{className:"main-page",children:Object(x.jsx)("div",{className:"card-container",children:Object(x.jsx)(E,{onItemSelected:function(e){return t.push(e)}})})})},_=n(13),M=n.n(_),B=n(20),R=function e(){var t=this;Object(s.a)(this,e),this.getResource=function(){var e=Object(B.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pokeapi.co/api/v2").concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(n.status));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPokemons=Object(B.a)(M.a.mark((function e(){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/pokemon/?limit=75");case 2:return n=e.sent,e.abrupt("return",n.results);case 4:case"end":return e.stop()}}),e)}))),this.getPokemon=function(){var e=Object(B.a)(M.a.mark((function e(n){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/pokemon/".concat(n));case 2:return c=e.sent,e.abrupt("return",t._transformPokemon(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformPokemon=function(e){return{id:e.id,name:e.name,baseExperience:e.base_experience,height:e.height,isDefault:e.is_default,order:e.order,weight:e.weight,abilities:e.abilities,forms:e.forms,heldItems:e.held_items,image:e.sprites.front_default,moves:e.moves,species:e.species,stats:e.stats,types:e.types}}},W=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(o.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(x.jsx)(I,{}):this.props.children}}]),n}(c.Component),z=n(30),F=(n(58),function(e){var t=e.item,n=Object(c.useState)(!0),r=Object(z.a)(n,2),a=r[0],i=r[1];return Object(x.jsxs)("div",{className:"item",children:[Object(x.jsx)("img",{className:"item-image",src:"".concat(k,"/").concat(t.id,".png")}),Object(x.jsxs)("div",{className:"item-info item-info--base",children:[Object(x.jsx)("h4",{children:t.name}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Base experience:"})," ",t.baseExperience]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Height:"})," ",t.height]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Weight:"})," ",t.weight]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Order:"})," ",t.order]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Species:"})," ",t.species.name]})]})]}),Object(x.jsxs)("ul",{className:"item-info item-info--details",children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Abilities:"}),Object(x.jsx)("ul",{className:"item-inner-ul",children:t.abilities.map((function(e,t){return Object(x.jsx)("li",{children:e.ability.name},t)}))})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Forms:"}),Object(x.jsx)("ul",{className:"item-inner-ul",children:t.forms.map((function(e,t){return Object(x.jsx)("li",{children:e.name},t)}))})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Type:"}),Object(x.jsx)("ul",{className:"item-inner-ul",children:t.types.map((function(e,t){return Object(x.jsx)("li",{children:e.type.name},t)}))})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Held Items:"}),Object(x.jsx)("ul",{className:"item-inner-ul",children:t.heldItems.map((function(e,t){return Object(x.jsx)("li",{children:e.item.name},t)}))})]}),Object(x.jsxs)("li",{style:{gridArea:"1 / 1 / 4 / 2"},children:[Object(x.jsx)("span",{children:"Stats:"}),Object(x.jsx)("ul",{className:"item-inner-ul",children:t.stats.map((function(e,t){return Object(x.jsxs)("li",{children:[Object(x.jsx)("p",{children:e.stat.name}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{children:"Base stat:"})," ",e.base_stat]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{children:"Effort:"})," ",e.effort]})]},t)}))})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("a",{className:"btn btn-link expand",onClick:function(){i(!a)},children:Object(x.jsx)("span",{children:"Moves"})}),Object(x.jsx)("ul",{className:"item-inner-ul item-inner-ul--large ".concat(a?"collapse":""),children:t.moves.map((function(e,t){return Object(x.jsx)("li",{children:e.move.name},t)}))})]})]})]})}),H=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).componentDidUpdate=function(e){c.props.itemId!==e.itemId&&c.updateItem()},c.onError=function(e){c.setState({error:!0,loading:!1})},c.state={item:null,loading:!0,error:!1},c}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"updateItem",value:function(){var e=this,t=this.props,n=t.itemId,c=t.getData;n&&c(n).then((function(t){var n=t;e.setState({item:n,loading:!1,error:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.item,n=e.loading,c=e.error,r=!(n||c),a=c?Object(x.jsx)(I,{}):null,i=n?Object(x.jsx)(P,{}):null,s=r?Object(x.jsx)(F,{item:t}):null;return Object(x.jsxs)("div",{className:"card item-details",children:[a,i,s]})}}]),n}(c.Component),J=v((function(e){return{getData:e.getPokemon}}))((function(e){return Object(x.jsx)(H,Object(b.a)({},e))})),U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).pokeapiService=new R,e.state={hasError:!1,width:window.innerWidth},e}return Object(o.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(x.jsx)(I,{}):Object(x.jsx)(W,{children:Object(x.jsx)(O,{value:this.pokeapiService,children:Object(x.jsx)(d.a,{basename:"/pokemon-app",children:Object(x.jsxs)("div",{className:"app",children:[Object(x.jsx)(w,{}),Object(x.jsx)(W,{children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)(j.c,{children:[Object(x.jsx)(j.a,{path:"/",component:A,exact:!0}),Object(x.jsx)(j.a,{path:"/:id?",render:function(e){var t=e.match.params.id;return Object(x.jsx)(J,{itemId:t})}})]})})})]})})})})}}]),n}(c.Component);i.a.render(Object(x.jsx)(U,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.0f975e86.chunk.js.map